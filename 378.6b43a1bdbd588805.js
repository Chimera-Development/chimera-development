"use strict";(self.webpackChunkchimera=self.webpackChunkchimera||[]).push([[378],{7378:(v,u,o)=>{o.r(u),o.d(u,{AuthModule:()=>r});var i=o(433),m=o(1196),g=o(6743),t=o(8256),c=o(384),p=o(6895),h=o(8549);function b(s,e){if(1&s){const n=t.EpF();t.TgZ(0,"app-alert",15),t.NdJ("alertClosed",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.onMessagePopupHandle())}),t.qZA()}if(2&s){const n=t.oxw();t.Q6J("message",n.displayMessage)}}class a{constructor(e,n){this.authService=e,this.router=n,this.title="Chimera Project",this.displayMessage=null,this.isRegister=!1}ngOnInit(){this.title=g.N.title}onSubmitForm(e){e.valid&&(this.isRegister?this.handleRegister(e):this.handleLogin(e),e.reset())}handleLogin(e){this.authService.login(e.value.email,e.value.password).subscribe({next:n=>{this.router.navigate(["/home"]).then()},error:n=>this.displayMessage=n})}handleRegister(e){this.authService.signUp(e.value.email,e.value.password).subscribe({next:n=>{this.displayMessage="\u2714\ufe0f Successfully registered.",this.navigationTimer=setTimeout(()=>{this.router.navigate(["/home"]).then(()=>this.navigationTimer.unsubscribe)},1500)},error:n=>this.displayMessage=n})}onMessagePopupHandle(){this.displayMessage=null}onRegisterClicked(){this.isRegister=!0}}a.\u0275fac=function(e){return new(e||a)(t.Y36(c.e),t.Y36(m.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-auth"]],decls:22,vars:5,consts:[[3,"message","alertClosed",4,"ngIf"],[1,"row","text-center"],["width","200","src","./assets/chimera-logo.svg",3,"alt"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"fw-normal",3,"textContent"],[2,"color","lightgray"],[1,"form-floating"],["type","email","id","mail","placeholder","admin@chimera.com","ngModel","","name","email","required","","email","",1,"form-control","bg-dark","border-dark","text-white"],["for","mail",1,"bi-person"],["type","password","id","passwd","placeholder","Password","ngModel","","name","password","required","","minlength","6","autocomplete","on",1,"form-control","bg-dark","border-dark","text-white"],["for","passwd",1,"bi-lock"],["type","submit",1,"w-100","btn","btn-lg","btn-secondary","bg-dark","border-white",3,"textContent","disabled"],[1,"col-md-auto","text-end"],["type","button",1,"btn",2,"cursor","default",3,"click"],[3,"message","alertClosed"]],template:function(e,n){if(1&e){const l=t.EpF();t.YNc(0,b,1,1,"app-alert",0),t.TgZ(1,"div",1)(2,"div"),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(l);const C=t.MAs(5);return t.KtG(n.onSubmitForm(C))}),t.TgZ(6,"h4",5),t._uU(7,"Login"),t.qZA(),t._UZ(8,"hr",6),t.TgZ(9,"div",7),t._UZ(10,"input",8),t.TgZ(11,"label",9),t._uU(12,"Username"),t.qZA()(),t.TgZ(13,"div",7),t._UZ(14,"input",10),t.TgZ(15,"label",11),t._uU(16,"Password"),t.qZA()(),t.TgZ(17,"button",12),t._uU(18,"Login"),t.qZA()()(),t.TgZ(19,"div",13)(20,"button",14),t.NdJ("click",function(){return n.onRegisterClicked()}),t._uU(21,"Register"),t.qZA()()}if(2&e){const l=t.MAs(5);t.Q6J("ngIf",n.displayMessage),t.xp6(3),t.s9C("alt",n.title),t.xp6(3),t.Q6J("textContent",n.isRegister?"Create an Account":"Login"),t.xp6(11),t.Q6J("textContent",n.isRegister?"Create account":"Login")("disabled",!l.valid)}},dependencies:[p.O5,h.w,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.on,i.On,i.F],styles:["div[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{display:block;padding:2em;margin:auto}form[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:gray}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#d3d3d3;outline:none!important;box-shadow:none}form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #212529 inset!important;-webkit-text-fill-color:darkgray;-webkit-border-radius:0}input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-box-shadow:0 0 0 1000px #212529 inset!important;-webkit-text-fill-color:darkgray;-webkit-border-radius:0}"]});var f=o(4466);class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.m,i.u5,m.Bz.forChild([{path:"",component:a}])]})}}]);